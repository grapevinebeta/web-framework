jQuery.fn.selectbox=function(a){var b={className:"jquery-selectbox",animationSpeed:"normal",listboxMaxSize:10,replaceInvisible:false};var c="jquery-custom-selectboxes-replaced";var d=false;var e=function(a){var c=a.parents("."+b.className+"");a.slideDown(b.animationSpeed,function(){d=true});c.addClass("selecthover");jQuery(document).bind("click",g);return a};var f=function(a){var c=a.parents("."+b.className+"");a.slideUp(b.animationSpeed,function(){d=false;jQuery(this).parents("."+b.className+"").removeClass("selecthover")});jQuery(document).unbind("click",g);return a};var g=function(a){var e=a.target;var g=jQuery("."+b.className+"-list:visible").parent().find("*").andSelf();if(jQuery.inArray(e,g)<0&&d){f(jQuery("."+c+"-list"))}return false};b=jQuery.extend(b,a||{});return this.each(function(){var a=jQuery(this);if(a.filter(":visible").length==0&&!b.replaceInvisible)return;var d=jQuery('<span class="'+b.className+" "+c+'">'+'<div class="'+b.className+'-moreButton" />'+'<div class="'+b.className+"-list "+c+'-list" />'+'<span class="'+b.className+'-currentItem" />'+"</span>");jQuery("option",a).each(function(a,c){var c=jQuery(c);var g=jQuery('<span class="'+b.className+"-item value-"+c.val()+" item-"+a+'">'+c.text()+"</span>");g.click(function(){var a=jQuery(this);var c=a.parents("."+b.className);var d=a[0].className.split(" ");for(k1 in d){if(/^item-[0-9]+$/.test(d[k1])){d=parseInt(d[k1].replace("item-",""),10);break}}var g=a[0].className.split(" ");for(k1 in g){if(/^value-.+$/.test(g[k1])){g=g[k1].replace("value-","");break}}c.find("."+b.className+"-currentItem").text(a.text());c.find("select").val(g).triggerHandler("change");var h=c.find("."+b.className+"-list");if(h.filter(":visible").length>0){f(h)}else{e(h)}}).bind("mouseenter",function(){jQuery(this).addClass("listelementhover")}).bind("mouseleave",function(){jQuery(this).removeClass("listelementhover")});jQuery("."+b.className+"-list",d).append(g);if(c.filter(":selected").length>0){jQuery("."+b.className+"-currentItem",d).text(c.text())}});d.find("."+b.className+"-moreButton").click(function(){var a=jQuery(this);var c=jQuery("."+b.className+"-list").not(a.siblings("."+b.className+"-list"));f(c);var d=a.siblings("."+b.className+"-list");if(d.filter(":visible").length>0){f(d)}else{e(d)}}).bind("mouseenter",function(){jQuery(this).addClass("morebuttonhover")}).bind("mouseleave",function(){jQuery(this).removeClass("morebuttonhover")});a.hide().replaceWith(d).appendTo(d);var g=d.find("."+b.className+"-list");var h=g.find("."+b.className+"-item").length;if(h>b.listboxMaxSize)h=b.listboxMaxSize;if(h==0)h=1;var i=Math.round(a.width()+10);if(jQuery.browser.safari){i=i*1.4}d.css("width",i+"px");g.css({width:Math.round(i)+"px"})})};jQuery.fn.unselectbox=function(){var a="jquery-custom-selectboxes-replaced";return this.each(function(){var b=jQuery(this).filter("."+a);b.replaceWith(b.find("select").show())})}